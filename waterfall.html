<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0038)http://www.i5wl.com/example/waterfall/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>
    <link href="http://www.i5wl.com/example/waterfall/css/style.css" rel="stylesheet">
    
    <script src="./waterfall_files/jquery-1.9.1.js" type="text/javascript"></script><style type="text/css"></style>
    <script src="./waterfall_files/jquery.masonry.min.js" type="text/javascript"></script>
    <script src="./waterfall_files/jquery.infinitescroll.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function() {
	    var data = {
  "pic":[
  {
    "url":"img/1.jpg",
    "height":301
  },
  {
    "url":"img/2.jpg",
    "height":144
  },
  {
    "url":"img/3.jpg",
    "height":192
  },
  {
    "url":"img/4.jpg",
    "height":309
  },
  {
    "url":"img/5.jpg",
    "height":289
  },
  {
    "url":"img/6.jpg",
    "height":287
  },
  {
    "url":"img/7.jpg",
    "height":975
  }
  ]
};

            $('.wrapper:eq(1)').masonry({
                itemSelector: '.wfc',
                gutterWidth: 15,
                columnWidth: 222,
                isFitWidth: true
            });

            $('#waterfall').infinitescroll({
                navSelector: "#navigation", //导航的选择器，会被隐藏
                nextSelector: "#navigation a", //包含下一页链接的选择器
                itemSelector: ".wfc", //你将要取回的选项(内容块)
                debug: true, //启用调试信息
                animate: true, //当有新数据加载进来的时候，页面是否有动画效果，默认没有
                extraScrollPx: 150, //滚动条距离底部多少像素的时候开始加载，默认150
                bufferPx: 40, //载入信息的显示时间，时间越大，载入信息显示时间越短
                errorCallback: function() {
                    alert('error');
                }, //当出错的时候，比如404页面的时候执行的函数
                localMode: true, //是否允许载入具有相同函数的页面，默认为false
                dataType: 'html',//可以是json
                template: function(data) {
                    //data表示服务端返回的json格式数据，这里需要把data转换成瀑布流块的html格式，然后返回给回到函数
					var more = '';
					for(i = 0; i < data.pic.length; i++){
						more = more + '<div class="pin wfc wft"><a class="img x" href="/pins/60411519/" target="_self"><img src="' + data.pic[i].url +'" width="192" height=' + data.pic[i].height + '><span style="display: none" class="stop"></span></a><p class="description">11111</p></div>';
					}
                    return more;
                },
                loading: {
                    msgText: "加载中...",
                    finishedMsg: '没有新数据了...',
                    selector: '.loading' // 显示loading信息的div
                }
            }, function(newElems) {
                //程序执行完的回调函数
                var $newElems = $(newElems);
                $('.wrapper:eq(1)').masonry('appended', $newElems);
            });

        });
    </script>
 </head>
<body>
   
            <div id="waterfall">
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 0px; left: 0px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/1.jpg" width="192" height="301"><span style="display: none" class="stop"></span></a>
                    <p class="description">11111</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 0px; left: 237px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/2.png" width="192" height="144"><span style="display: none" class="stop"></span></a>
                    <p class="description">222</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 0px; left: 474px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/3.jpg" width="192" height="192"><span style="display: none" class="stop"></span></a>
                    <p class="description">33333</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 0px; left: 711px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/4.jpg" width="192" height="309"><span style="display: none" class="stop"></span></a>
                    <p class="description">44444</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 0px; left: 948px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/5.jpg" width="192" height="289"><span style="display: none" class="stop"></span></a>
                    <p class="description">55555</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 0px; left: 1185px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/6.jpg" width="192" height="287"><span style="display: none" class="stop"></span></a>
                    <p class="description">66666</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 207px; left: 237px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/1.jpg" width="192" height="301"><span style="display: none" class="stop"></span></a>
                    <p class="description">11111</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 255px; left: 474px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/2.png" width="192" height="144"><span style="display: none" class="stop"></span></a>
                    <p class="description">222</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 349px; left: 1185px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/3.jpg" width="192" height="192"><span style="display: none" class="stop"></span></a>
                    <p class="description">33333</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 352px; left: 948px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/4.jpg" width="192" height="309"><span style="display: none" class="stop"></span></a>
                    <p class="description">44444</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 364px; left: 0px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/5.jpg" width="192" height="289"><span style="display: none" class="stop"></span></a>
                    <p class="description">55555</p>
                </div>
                <div class="pin wfc wft masonry-brick" style="position: absolute; top: 372px; left: 711px;">
                    <a class="img x" href="http://www.i5wl.com/pins/60411519/" target="_self"><img src="./waterfall_files/6.jpg" width="192" height="287"><span style="display: none" class="stop"></span></a>
                    <p class="description">66666</p>
                </div>
            </div>
            <div class="loading">
                <img src="./waterfall_files/loading.gif"><span>正在加载...</span></div>
        </div>
    </div>
    <div id="navigation"><a href="test.html"></a></div>


</body><iframe id="evernoteFilingTools" src="./waterfall_files/filing_tools.html"></iframe><iframe id="evernoteUserTools" src="./waterfall_files/user_tools.html"></iframe><iframe id="evernoteShareTools" src="./waterfall_files/share_tools.html"></iframe><iframe id="evernoteEmailSharing" src="./waterfall_files/email_sharing.html"></iframe><iframe id="evernoteGlobalTools" src="./waterfall_files/global_tools.html"></iframe></html>
